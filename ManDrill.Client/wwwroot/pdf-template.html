<style>
    /* Panel styles */
    .left-panel, .right-panel {
        flex: 1;
        height: 90vh;
        overflow-y: auto;
        padding: 20px;
        box-sizing: border-box;
    }

    .left-panel {
        border-right: 1px solid #ddd;
    }

    h1, h2 {
        color: deepskyblue;
    }

    h1 {
        font-size: 28px;
        text-align: center;
        margin-bottom: 30px;
    }

    h2 {
        font-size: 22px;
        margin-top: 30px;
        margin-bottom: 10px;
    }

    ul {
        margin: 0 0 15px 20px;
        padding: 0;
    }

    li {
        margin: 8px 0;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        margin: 15px 0 25px 0;
    }

    table, th, td {
        border: 1px solid #ccc;
    }

    th, td {
        padding: 10px;
        text-align: left;
    }

    hr {
        border: none;
        border-top: 1px solid #ddd;
        margin: 25px 0;
    }

    .mermaid {
        background: transparent !important;
        border-radius: 20px !important;
        font-family: montserrat,-apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif !important;
    }

        /* Custom node & edge styles via Mermaid SVG node class targeting */
        .mermaid .node rect, .mermaid .node polygon, .mermaid .node ellipse {
            rx: 12px !important; /* Softer border radius */
            fill: #000000 !important;
        }

        /* START/INPUT: clean blue */
        .mermaid .startNode rect, .mermaid .inputNode rect {
            fill: #3b82f6 !important;
            stroke: #2563eb !important;
            stroke-width: 2px !important;
            filter: drop-shadow(0 2px 8px rgba(59, 130, 246, 0.3));
        }

        /* PROCESS: clean green */
        .mermaid .processNode rect {
            fill: #10b981 !important;
            stroke: #059669 !important;
            stroke-width: 2px !important;
            filter: drop-shadow(0 2px 8px rgba(16, 185, 129, 0.3));
        }

        /* ACTION: clean teal */
        .mermaid .actionNode rect {
            fill: #14b8a6 !important;
            stroke: #0d9488 !important;
            stroke-width: 2px !important;
            filter: drop-shadow(0 2px 8px rgba(20, 184, 166, 0.3));
        }

        /* DECISION: clean orange */
        .mermaid .decisionNode polygon {
            fill: #f59e0b !important;
            stroke: #d97706 !important;
            stroke-width: 2px !important;
            filter: drop-shadow(0 2px 8px rgba(245, 158, 11, 0.3));
        }

        /* DATA: clean purple */
        .mermaid .dataNode rect {
            fill: #8b5cf6 !important;
            stroke: #7c3aed !important;
            stroke-width: 2px !important;
            filter: drop-shadow(0 2px 8px rgba(139, 92, 246, 0.3));
        }

        /* END/OUTPUT: clean pink */
        .mermaid .outputNode rect, .mermaid .endNode rect {
            fill: #ec4899 !important;
            stroke: #db2777 !important;
            stroke-width: 2px !important;
            filter: drop-shadow(0 2px 8px rgba(236, 72, 153, 0.3));
        }

        /* API/SERVICE: clean cyan */
        .mermaid .apiNode rect, .mermaid .serviceNode rect {
            fill: #06b6d4 !important;
            stroke: #0891b2 !important;
            stroke-width: 2px !important;
            filter: drop-shadow(0 2px 8px rgba(6, 182, 212, 0.3));
        }

        /* ERROR: clean red */
        .mermaid .errorNode rect, .mermaid .warningNode rect {
            fill: #ef4444 !important;
            stroke: #dc2626 !important;
            stroke-width: 2px !important;
            filter: drop-shadow(0 2px 8px rgba(239, 68, 68, 0.3));
        }

        /* Node text - clean white */
        .mermaid .node text {
            fill: #ffffff !important;
            font-family: inherit !important;
            font-weight: 500 !important;
            font-size: 13px !important;
            text-shadow: none !important;
        }

        .mermaid .node.decisionNode text {
            font-size: 12px !important;
        }

        /* Arrows - consistent white throughout */
        .mermaid .edgePath path {
            stroke: #ffffff !important;
            stroke-width: 2px !important;
        }

        .mermaid .arrowheadPath {
            fill: #ffffff !important; /* Fixed: was grey, now white */
            stroke: #ffffff !important;
        }

        /* Edge labels - clean white text on subtle background */
        .mermaid .edgeLabel {
            background-color: rgba(30, 41, 59, 0.9) !important;
            border-radius: 6px !important;
            padding: 3px 8px !important;
            border: 1px solid rgba(255, 255, 255, 0.1) !important;
        }

            .mermaid .edgeLabel text {
                fill: #ffffff !important; /* Fixed: was using dark color, now white */
                font-size: 11px !important;
                font-weight: 500 !important;
            }

        /* Subgraph styling - minimal and clean */
        .mermaid .cluster rect {
            fill: rgba(30, 41, 59, 0.4) !important;
            stroke: rgba(255, 255, 255, 0.2) !important;
            stroke-dasharray: 3 3 !important;
            rx: 8px !important;
            stroke-width: 1px !important;
        }

        .mermaid .cluster text {
            fill: #e2e8f0 !important;
            font-size: 13px !important;
            font-weight: 600 !important;
        }

    /* Ensure flowchart links are white */
    .flowchart-link {
        stroke: #ffffff !important;
    }

    /* Modern legend styling */
    .legend {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 10px;
        margin-top: 24px;
        background: rgba(15, 23, 42, 0.8) !important;
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        padding: 16px 18px;
        backdrop-filter: blur(8px);
    }

    .legend-item {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 2px 0;
    }

    .legend-color {
        width: 20px;
        height: 20px;
        border-radius: 4px;
        border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .legend-text {
        font-size: 13px;
        color: #f8fafc;
        font-weight: 400;
        letter-spacing: 0.01em;
    }

    /* Nuclear override - add this at the very end */
    .mermaid text,
    .mermaid tspan,
    .mermaid .edgeLabel,
    .mermaid foreignObject * {
        fill: white !important;
        color: white !important;
    }

    .mermaid marker polygon,
    .mermaid marker path {
        fill: white !important;
    }

    .time-saved {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.2rem 0.4rem;
        border: 1px solid #ffc107;
        color: #ffc107;
        background-color: #2e2e2e;
        border-radius: 20px;
        box-shadow: 0 0 8px #ffc107;
        font-weight: 500;
        font-family: sans-serif;
        font-size: 0.95rem;
    }
</style>
<div class="left-panel">
    <h1 class="h1">
        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 64 64" fill="none">
            <rect x="8" y="30" width="6" height="20" fill="#FF4D4D"></rect>
            <rect x="18" y="24" width="6" height="26" fill="#2DF3C2"></rect>
            <rect x="28" y="28" width="6" height="22" fill="#FFDD57"></rect>
            <rect x="38" y="18" width="6" height="32" fill="#8ED1FC"></rect>
            <path d="M10 40 L21 30 L31 33 L41 20" stroke="#000" stroke-width="2" fill="none"></path>
            <circle cx="10" cy="40" r="2" fill="red"></circle>
            <circle cx="21" cy="30" r="2" fill="#2DF3C2"></circle>
            <circle cx="31" cy="33" r="2" fill="#FFDD57"></circle>
            <circle cx="41" cy="20" r="2" fill="#8ED1FC"></circle>
            <circle cx="44" cy="17" r="6" stroke="#FFDD57" stroke-width="2" fill="none"></circle>
            <line x1="48" y1="21" x2="55" y2="28" stroke="#F4B183" stroke-width="3"></line>
        </svg>
        [Title]
    </h1>
    <hr>

    <div class="dark-note">
        <span class="time-saved">
            ⚡[EstimatedMinutes] min saved
        </span>
        <br />
        <span class="mt-1">
            👉 This represents the estimated time saved compared to a manual code walkthrough.
        </span>
    </div>
    <h2>💼 Business Context</h2>
    <p>[BusinessContext]</p>
    <hr>

    <h2>🛠 Technical Context</h2>
    <p>[TechnicalContext]</p>
    <hr>

    <h2>🔑 Key Operations</h2>
    <ul>
        [KeyOperations]
    </ul>
    <hr>

    <h2>⚙️ Parameters</h2>
    <table>
        <thead>
            <tr><th>Parameter</th><th>Description</th></tr>
        </thead>
        <tbody>
            [Parameters]
        </tbody>
    </table>
    <hr>

    <h2>🔗 Dependencies</h2>
    <ul>
        [Dependencies]
    </ul>
    <hr>

    <h2>⚡ Performance Notes</h2>
    <p>[PerformanceNotes]</p>
    <hr>

    <h2>✅ Conclusion</h2>
    <p>[Conclusion]</p>

</div>
<div class="right-panel">
    <h1 class="h1">
        <svg width="48" height="48" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
            <!-- Yellow rectangle (top) -->
            <rect x="85" y="10" width="30" height="25" rx="4" fill="#FFE066" stroke="black" stroke-width="2" />

            <!-- Line to center circle -->
            <line x1="100" y1="35" x2="100" y2="70" stroke="black" stroke-width="2" />

            <!-- Purple circle (center node) -->
            <circle cx="100" cy="80" r="10" fill="#D0A9F5" stroke="black" stroke-width="2" />

            <!-- Lines from center to left and right -->
            <line x1="100" y1="90" x2="50" y2="120" stroke="black" stroke-width="2" />
            <line x1="100" y1="90" x2="150" y2="120" stroke="black" stroke-width="2" />

            <!-- Blue rectangle (left top) -->
            <rect x="30" y="110" width="40" height="20" rx="4" fill="#A0E7E5" stroke="black" stroke-width="2" />

            <!-- Orange rectangle (left bottom) -->
            <rect x="30" y="140" width="40" height="20" rx="4" fill="#FFA552" stroke="black" stroke-width="2" />

            <!-- Line connecting blue to orange -->
            <line x1="50" y1="130" x2="50" y2="140" stroke="black" stroke-width="2" />

            <!-- Red rectangle (right) -->
            <rect x="130" y="110" width="40" height="40" rx="4" fill="#FF8A8A" stroke="black" stroke-width="2" />

            <!-- Line from center to bottom (diamond) -->
            <line x1="100" y1="90" x2="100" y2="160" stroke="black" stroke-width="2" />

            <!-- Green diamond (decision node) -->
            <polygon points="100,170 110,180 100,190 90,180" fill="#A8E6CF" stroke="black" stroke-width="2" />
        </svg>

        Flow Diagram
    </h1>
    <hr>
    <div>
        <div class="mermaid">
            [FlowDiagram]
        </div>
    </div>
</div>
